---
title: 操作系统01
date: 2018-05-05 10:45:39
tags: 系统
categories:
- 面试题
- 操作系统
---
## 问题1：分段和分页有什么区别？

答：分页和分段有着许多相同之处比如两者都是采用离散分配方式，并且都是需要采取地址映射实现虚拟地址的变换。但是两个又有着许多不不同之处，下面主要强调一下二者的区别。
<!--more-->
1.页信息是物理单位，采取分页的方式能够更好的消除内存碎片，提高内存的利用率，分页仅仅只是系统的需要，完全是系统的行为，对于用户是不可见的。分段的话则是一种逻辑上的范围，分段更好的是处于用户的需要，一个程序的指令可能会跨越两个页的分介处，但是不会跨越一个段的。

2.页的大小通常是固定的，而段不固定，取决于程序的需求。

3.分页的用户的逻辑地址空间是一维的，分段是二维的，程序员在表示一个地址的时候既要给出段名字，又要给出段内地址

4通常页比段小，因而段表比页表小，所以可以提高查找的效率。

## 问题2：请简单说一说进程和线程，以及他们的区别？

答：首先分别从进程和线程的概念入手说一说：

进程：在一定的环境下，把静态的程序代码运行起来，通过使用不同的资源，来完成一定的任务。比如说，进程的环境包括环境变量，进程所掌控的资源，有中央处理器，有内存，打开的文件，映射的网络端口等等。系统会为其创建进程控制块，为其分配资源，进程有自己独立的地址空间，页表等。进程在一定的意义上来说是CPU最小的的资源分配单位

这里给出一个我觉得解释比较好的陈述：进程是资源（CPU、内存等）分配的基本单位，它是程序执行时的一个实例。程序运行时系统就会创建一个进程，并为它分配资源，然后把该进程放入进程就绪队列，进程调度器选中它的时候就会为它分配CPU时间，程序开始真正运行。

线程：轻量级进程，属于进程的一部分，扮演的角色主要就是利用中央处理器执行代码。更多的线程是进程的执行路径。想线程共享进程的数据，但是也有自己独立的一部分数据，栈空间，寄存器，errno,信号,屏蔽字，调度优先级。

其实两者都是CPU工作时间段的描述，只不过两个的大小不一样，进程的切换需要分配一系列资源，保存上下文，而然线程不要，只需要保存其上下文，所以某种意义上来说，进程主要用来分配资源，线程用来执行任务的。

下面官方式的说一说二者的区别，上面主要从理解的角度来说得。面试的话总的说得比较官方吧

[https://blog.csdn.net/laviolette/article/details/51506953](https://blog.csdn.net/laviolette/article/details/51506953)

## 3.什么是死锁，死锁产生的条件？

答：死锁的概念：进程竞争资源而造成的一种僵局。比如一个进程持有某个资源A，这个时候有它又去获取资源A这个时候就会陷入死锁状态。多个进程下，比如进程A持有资源B，进程B持有资源A，这个时候A去获取进程B持有的A资源，B进程去获取A进程持有的B资源，那么这个时候就会造成死锁的僵局。即A在等待B进程释放资源，B进程在等待A进程释放资源。如果没有外力的作用下，这种僵局将会一直持续下去。

产生死锁的条件：

1.互斥条件：即某个资源一段时间内只能被一个进程所占有。不能同时被两个或两个以上的进程占有。必须在该进程主动释放该资源以后其他进程才能占有该资源。此时如果有其他进程求情该资源，此请求进程只能等待，等到拥有该资源的进程释放该资源以后，自己方可获得该资源

2.求情与保持条件：即进程已经占有了一个资源，但是又去申请被其他进程正在占用的资源，此时请求进程被阻塞，对自己已获得的资源自己又不释放

3.不可剥夺条件：进程所占有的资源只能被自己释放，不能被其他进程强行夺走

4.循环等待条件：形成进程的循环等待链，即比如上面的例子中进程A和进程B就形成了一个循环等待的条件。

## 5.线程同步的方式有哪些？

互斥锁
信号量：

因为互斥锁只能讲资源锁住，这样虽然实现了多线程访问共享资源的同步问题，但是降低了多线程之间的并发性。使用信号量可以提高高并发性。用循环队列。定义两个信号量一个给生产者一个给消费者，当wait等于0，则造成调用该wait函数线程阻塞，当消费者有东西时唤醒

条件变量：

当我访问的资源需要满足一定的条件的时候我再去加锁，进行我的操作，否则不就不取和其他线程证，这样能够提高cpu的效率，避免不必要的争论。

读写锁：读共享，写独享，读优先级大于读优先级。
悲观锁
乐观锁
 
